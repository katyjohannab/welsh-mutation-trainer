/* ===== Learn mode flip card (text always readable) ===== */
.learn-scene { perspective: 1200px; }

/* Outer card flips */
.learn-card3d{
  --flip-dur: 560ms;
  --flip-half: 280ms;
  --flip-ease: cubic-bezier(.2,.8,.2,1);

  display: grid;
  position: relative;

  transform-style: preserve-3d;
  -webkit-transform-style: preserve-3d;

  transition: transform var(--flip-dur) var(--flip-ease);
  will-change: transform;
}
.learn-card3d.is-flipped{ transform: rotateY(180deg); }

/* Faces overlap in same grid cell */
.learn-face{
  grid-area: 1 / 1;
}

/* Inner wrapper counter-rotates so text never mirrors */
.learn-inner{
  height: 100%;
  transform: rotateY(0deg);
  transition: transform var(--flip-dur) var(--flip-ease);
  transform-style: preserve-3d;
  -webkit-transform-style: preserve-3d;
}
.learn-card3d.is-flipped .learn-inner{ transform: rotateY(-180deg); }

/* Swap which face is shown at the halfway point */
.learn-front,
.learn-back{
  transition: opacity 120ms ease var(--flip-half);
}

.learn-front{ opacity: 1; pointer-events: auto; }
.learn-back { opacity: 0; pointer-events: none; }

.learn-card3d.is-flipped .learn-front{ opacity: 0; pointer-events: none; }
.learn-card3d.is-flipped .learn-back { opacity: 1; pointer-events: auto; }

/* Keep your front text reveal */
.learn-front-text { transition: opacity 240ms ease, transform 240ms ease; }
.learn-front-text.is-hidden { opacity: 0; transform: translateY(6px); }

@media (prefers-reduced-motion: reduce) {
  .learn-card3d { transition: none; }
  .learn-inner { transition: none; }
  .learn-front, .learn-back { transition: none; }
  .learn-front-text { transition: none; }
}

