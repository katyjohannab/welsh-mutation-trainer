<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="view-transition" content="same-origin" />
  <title>Hyffordwr Cymraeg | Home</title>

  <!-- Tailwind via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Shared site styles (same as index.html) -->
  <link rel="stylesheet" href="styles.css" />

  <!-- Fonts (match index.html) -->
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Abril+Fatface&family=Inconsolata:wght@200;300&family=Josefin+Sans:wght@300;400&family=Karla:wght@200;300;500;600&family=Merriweather:ital,wght@1,900&family=Poppins:ital,wght@0,100;0,200;0,400;1,100&family=Slabo+13px&family=Slabo+27px&family=Ultra&family=Yeseva+One&display=swap');
  </style>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=BBH+Bogle&family=BBH+Hegarty&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Merriweather:ital,opsz,wght@0,18..144,300..900;1,18..144,300..900&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Roboto+Slab:wght@100..900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

  <style>
    /* Match index typography smoothing */
    html { font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji"; }
    body { -webkit-font-smoothing: antialiased; }

    /* A tiny bit of ‚Äúfeature card‚Äù hover polish */
    .feature-card { transition: transform 120ms ease, box-shadow 120ms ease; }
    .feature-card:focus-within, .feature-card:hover { transform: translateY(-1px); }

    /* Keep home content feeling like the rest of the site */
    .home-hero-title { color: var(--emerald-ink); }
  </style>
</head>

<body class="min-h-screen text-slate-900">
  <div id="app" class="min-h-screen flex flex-col text-[16px] md:text-[17px]">

    <!-- HEADER: copied structure + IDs + classes from index.html -->
    <header id="siteHeader" class="sticky top-0 z-10">
      <div class="max-w-6xl mx-auto px-4 py-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between md:gap-4">

        <div class="brand-lockup grow min-w-0">
          <img class="brand-dragon" alt="" aria-hidden="true"
               src="https://katyjohannab.github.io/welsh-mutation-trainer/images/dragon.png" />
          <h1 class="bbh-bogle-regular brand-title text-3xl md:text-4xl lg:text-5xl tracking-tight">
            <span class="title-hy">Hyffordwr</span><span class="title-trei">Cymraeg</span>
          </h1>
        </div>

        <div class="flex flex-wrap items-center justify-start md:justify-end gap-2 md:gap-3">
          <span id="itemCount" class="hidden text-xs text-slate-500"></span>
          <span id="adminBadge" class="hidden text-xs font-semibold text-red-700 bg-red-50 border border-red-200 px-2 py-1 rounded-full">Admin</span>

          <!-- Primary nav (same button family as index.html) -->
          <div class="flex flex-wrap items-center gap-2">
            <a id="btnLearn" class="btn btn-ghost" href="./learn.html" title="Learn">Learn</a>
            <!-- On Home, Practice takes you to the trainer -->
            <a id="btnPractice" class="btn btn-primary" href="./index.html" title="Practice mode">Practice</a>
          </div>

          <!-- Secondary actions row (present but minimal on Home to preserve header rhythm) -->
          <div class="hidden md:block h-6 w-px bg-slate-200/80"></div>

          <div class="flex flex-wrap items-center gap-2">
            <!-- Keep the same IDs so your existing CSS styling fits.
                 We repurpose these as simple links on Home. -->
            <a id="btnStats" class="btn btn-ghost" href="./vocab.html" title="Vocab trainer">Vocab</a>
            <a id="btnFilters" class="btn btn-ghost" href="./index.html#filters" title="Filters">Filters</a>
            <a id="btnBrowse" class="btn btn-ghost" href="./index.html?preset=prepositions" title="Prepositions">Preps</a>
            <a id="btnHelp" class="btn btn-ghost" href="./learn.html?lesson=whistlestop&slide=1" title="Quick tour">Tour</a>
          </div>

          <div class="hidden md:block h-6 w-px bg-slate-200/80"></div>

          <!-- EXACT same toggle element as index.html -->
          <button id="btnLangToggle" class="btn-lang" aria-label="Switch language" title="Switch language"></button>
        </div>

      </div>
      <div class="cymru-red-bar" aria-hidden="true"></div>
    </header>

    <!-- MAIN -->
    <main class="grow max-w-6xl mx-auto p-4 pb-24 md:pb-4 space-y-6">

      <!-- HERO -->
      <section class="panel rounded-2xl p-6 md:p-8">
        <div class="flex flex-col md:flex-row md:items-end md:justify-between gap-4">
          <div class="min-w-0 max-w-3xl">
            <div class="text-xs uppercase tracking-widest text-slate-500" data-i18n="hero_kicker">
              <span data-lang="en">Croeso ‚Ä¢ Welcome</span>
              <span data-lang="cy" hidden>Croeso ‚Ä¢ Welcome</span>
            </div>

            <h2 class="mt-2 text-3xl md:text-4xl font-bold tracking-tight bbh-bogle-regular home-hero-title">
              <span data-lang="en">Hyffordwr Cymraeg</span>
              <span data-lang="cy" hidden>Hyffordwr Cymraeg</span>
            </h2>

            <p class="mt-3 text-slate-700 leading-relaxed" data-lang="en">
              Shwmae! I‚Äôm Katy. I‚Äôm currently learning Welsh at Uwch level, and I started building little tools to help me practise the bits I found hardest (especially mutations).
              They‚Äôve genuinely helped my learning, so I‚Äôm sharing them here in case they‚Äôre useful for you too. Pick something below and have a play.
            </p>
            <p class="mt-3 text-slate-700 leading-relaxed" data-lang="cy" hidden>
              Shwmae! Katy dw i. Dw i‚Äôn ddysgwr Cymraeg ar lefel Uwch ar hyn o bryd, a dechreuais greu offerynnau bach i helpu fi ymarfer y pethau oedd yn anodd i mi (yn enwedig treigladau).
              Maen nhw wedi bod yn ddefnyddiol iawn i mi, felly dw i‚Äôn eu rhannu yma rhag ofn eu bod nhw‚Äôn helpu ti hefyd. Dewisa rywbeth isod a rho gynnig arni.
            </p>

            <div class="mt-5 flex flex-wrap gap-2">
              <a class="btn btn-primary" href="./index.html">
                <span data-lang="en">Start mutation trainer</span>
                <span data-lang="cy" hidden>Dechrau‚Äôr hyfforddwr treigladau</span>
              </a>
              <a class="btn btn-ghost" href="./learn.html">
                <span data-lang="en">Open mini lessons</span>
                <span data-lang="cy" hidden>Agor y gwersi bach</span>
              </a>
              <a class="btn btn-ghost" href="./vocab.html">
                <span data-lang="en">Open vocab trainer</span>
                <span data-lang="cy" hidden>Agor yr ymarfer geirfa</span>
              </a>
            </div>
          </div>

          <div class="flex flex-wrap gap-2">
            <span class="tag">
              <span data-lang="en">Mobile-friendly</span>
              <span data-lang="cy" hidden>Addas ar gyfer ff√¥n</span>
            </span>
            <span class="tag">
              <span data-lang="en">Keyboard support</span>
              <span data-lang="cy" hidden>Cefnogaeth bysellfwrdd</span>
            </span>
            <span class="tag">
              <span data-lang="en">Bilingual UI</span>
              <span data-lang="cy" hidden>Rhyngwyneb dwyieithog</span>
            </span>
          </div>
        </div>
      </section>

      <!-- FEATURE GRID -->
      <section class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4" aria-label="Site sections">

        <!-- Mutation trainer -->
        <article class="panel rounded-2xl p-5 feature-card">
          <div class="flex items-start justify-between gap-3">
            <div class="min-w-0">
              <div class="text-xs uppercase tracking-widest text-slate-500">
                <span data-lang="en">Practice</span>
                <span data-lang="cy" hidden>Ymarfer</span>
              </div>
              <h3 class="mt-1 text-xl font-bold tracking-tight" style="color: var(--emerald-ink);">
                <span data-lang="en">Mutation trainer</span>
                <span data-lang="cy" hidden>Hyffordwr treigladau</span>
              </h3>
              <p class="mt-2 text-slate-700 leading-relaxed" data-lang="en">
                An interactive tool to help you practise mutations in lots of different contexts.
              </p>
              <p class="mt-2 text-slate-700 leading-relaxed" data-lang="cy" hidden>
                Offeryn rhyngweithiol i dy helpu di i ymarfer treigladau mewn llawer o gyd-destunau gwahanol.
              </p>
            </div>
            <span class="tag">Core</span>
          </div>
          <div class="mt-4 flex flex-wrap gap-2">
            <a class="btn btn-primary" href="./index.html">
              <span data-lang="en">Open</span><span data-lang="cy" hidden>Agor</span>
            </a>
            <a class="btn btn-ghost" href="./index.html#filters">
              <span data-lang="en">Filters</span><span data-lang="cy" hidden>Hidiau</span>
            </a>
          </div>
        </article>

        <!-- Lessons -->
        <article class="panel rounded-2xl p-5 feature-card">
          <div class="flex items-start justify-between gap-3">
            <div class="min-w-0">
              <div class="text-xs uppercase tracking-widest text-slate-500">
                <span data-lang="en">Learn</span>
                <span data-lang="cy" hidden>Dysgu</span>
              </div>
              <h3 class="mt-1 text-xl font-bold tracking-tight" style="color: var(--emerald-ink);">
                <span data-lang="en">Mini lessons</span>
                <span data-lang="cy" hidden>Gwersi bach</span>
              </h3>
              <p class="mt-2 text-slate-700 leading-relaxed" data-lang="en">
                A series of mini-lessons about grammar.
              </p>
              <p class="mt-2 text-slate-700 leading-relaxed" data-lang="cy" hidden>
                Cyfres o wersi bach am ramadeg Cymraeg.
              </p>
            </div>
            <span class="tag">Lessons</span>
          </div>
          <div class="mt-4 flex flex-wrap gap-2">
            <a class="btn btn-primary" href="./learn.html">
              <span data-lang="en">Open</span><span data-lang="cy" hidden>Agor</span>
            </a>
            <a class="btn btn-ghost" href="./learn.html?lesson=whistlestop&slide=1">
              <span data-lang="en">Quick tour</span><span data-lang="cy" hidden>Taith gyflym</span>
            </a>
          </div>
        </article>

        <!-- Vocab -->
        <article class="panel rounded-2xl p-5 feature-card">
          <div class="flex items-start justify-between gap-3">
            <div class="min-w-0">
              <div class="text-xs uppercase tracking-widest text-slate-500">
                <span data-lang="en">Vocab</span>
                <span data-lang="cy" hidden>Geirfa</span>
              </div>
              <h3 class="mt-1 text-xl font-bold tracking-tight" style="color: var(--emerald-ink);">
                <span data-lang="en">Vocab trainer</span>
                <span data-lang="cy" hidden>Ymarfer geirfa</span>
              </h3>
              <p class="mt-2 text-slate-700 leading-relaxed" data-lang="en">
                Aimed at Dysgu Cymraeg learners, this tool helps you learn key course vocabulary.
              </p>
              <p class="mt-2 text-slate-700 leading-relaxed" data-lang="cy" hidden>
                Wedi‚Äôi anelu at ddysgwyr Dysgu Cymraeg, mae‚Äôr offeryn hwn yn dy helpu di i ddysgu geirfa allweddol y cwrs.
              </p>
            </div>
            <span class="tag">Trainer</span>
          </div>
          <div class="mt-4 flex flex-wrap gap-2">
            <a class="btn btn-primary" href="./vocab.html">
              <span data-lang="en">Open</span><span data-lang="cy" hidden>Agor</span>
            </a>
          </div>
        </article>

        <!-- Optional ‚Äúcoming soon‚Äù card (kept minimal) -->
        <article class="panel rounded-2xl p-5 feature-card sm:col-span-2 lg:col-span-1">
          <div class="text-xs uppercase tracking-widest text-slate-500">
            <span data-lang="en">Coming soon</span>
            <span data-lang="cy" hidden>Yn dod yn fuan</span>
          </div>
          <h3 class="mt-1 text-xl font-bold tracking-tight" style="color: var(--emerald-ink);">
            <span data-lang="en">Grammar trainer</span>
            <span data-lang="cy" hidden>Ymarfer gramadeg</span>
          </h3>
          <p class="mt-2 text-slate-700 leading-relaxed" data-lang="en">
            Focused drills on ‚Äúbod + yn‚Äù, relative clauses, and other high-frequency patterns.
          </p>
          <p class="mt-2 text-slate-700 leading-relaxed" data-lang="cy" hidden>
            Ymarferion ffocws ar ‚Äúbod + yn‚Äù, cymalau perthynol, a phatrymau cyffredin eraill.
          </p>
          <div class="mt-4">
            <a class="btn btn-ghost" href="./learn.html">
              <span data-lang="en">Use lessons for now</span>
              <span data-lang="cy" hidden>Defnyddio‚Äôr gwersi am y tro</span>
            </a>
          </div>
        </article>

      </section>

      <footer class="max-w-6xl mx-auto p-6 text-xs text-slate-500">
        <div class="flex flex-wrap gap-4 items-center">
          <span>¬© Hyffordwr Cymraeg</span>
          <button id="btnTop" class="ml-auto btn btn-ghost px-2 py-1">
            <span data-lang="en">Back to top</span>
            <span data-lang="cy" hidden>Yn √¥l i‚Äôr brig</span>
          </button>
        </div>
      </footer>
    </main>
  </div>

<script>
/* ========= Utilities (match index patterns) ========= */
const $ = (sel, root = document) => root.querySelector(sel);
function saveLS(k, v) { try { localStorage.setItem(k, JSON.stringify(v)); } catch (e) {} }
function loadLS(k, d) { try { const r = localStorage.getItem(k); return r ? JSON.parse(r) : d; } catch (e) { return d; } }

/* ========= Language (MATCH index toggle style) ========= */
const state = {
  lang: loadLS("wm_lang", "en"),
};

function applyHomeLanguage() {
  const lang = state.lang || "en";
  document.documentElement.setAttribute("lang", lang === "cy" ? "cy" : "en");

  // Toggle all bilingual blocks on this page
  document.querySelectorAll("[data-lang]").forEach(el => {
    el.hidden = (el.getAttribute("data-lang") !== lang);
  });

  // Update header button labels to match language (optional but tidy)
  const navLearn = $("#btnLearn");
  const navPractice = $("#btnPractice");
  const navStats = $("#btnStats");
  const navFilters = $("#btnFilters");
  const navBrowse = $("#btnBrowse");
  const navHelp = $("#btnHelp");

  if (lang === "cy") {
    if (navLearn) navLearn.textContent = "Dysgu";
    if (navPractice) navPractice.textContent = "Ymarfer";
    if (navStats) navStats.textContent = "Geirfa";
    if (navFilters) navFilters.textContent = "Hidiau";
    if (navBrowse) navBrowse.textContent = "Ardd.";
    if (navHelp) navHelp.textContent = "Taith";
  } else {
    if (navLearn) navLearn.textContent = "Learn";
    if (navPractice) navPractice.textContent = "Practice";
    if (navStats) navStats.textContent = "Vocab";
    if (navFilters) navFilters.textContent = "Filters";
    if (navBrowse) navBrowse.textContent = "Preps";
    if (navHelp) navHelp.textContent = "Tour";
  }

  // CRITICAL: This matches your index.html behaviour: it sets innerHTML
  // with a üîÅ icon + <span class="langtag">CY/EN</span>.
  const langBtn = $("#btnLangToggle");
  if (langBtn) {
    const nextLang = (lang === "en") ? "CY" : "EN";
    langBtn.innerHTML = `<span aria-hidden="true">üîÅ</span><span class="langtag">${nextLang}</span>`;
    langBtn.title = (lang === "en") ? "Switch to Cymraeg" : "Switch to English";
    langBtn.setAttribute("aria-label", (lang === "en") ? "Switch language to Cymraeg" : "Switch language to English");
  }
}

/* ========= Events ========= */
$("#btnLangToggle")?.addEventListener("click", () => {
  state.lang = (state.lang === "en") ? "cy" : "en";
  saveLS("wm_lang", state.lang);
  applyHomeLanguage();
});

$("#btnTop")?.addEventListener("click", () => {
  window.scrollTo({ top: 0, behavior: "smooth" });
});

/* ========= Boot ========= */
(function boot(){
  applyHomeLanguage();
})();
</script>

</body>
</html>

